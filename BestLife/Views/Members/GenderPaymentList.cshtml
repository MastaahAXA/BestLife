@model BestLife.Models.GenderPaymentFilterViewModel

@{
    ViewData["Title"] = "Members by Gender & Payment";
}

<h2>Filter Members</h2>

<form method="get">
    <label>Gender:</label>
    <select name="gender" onchange="this.form.submit()">
        <option value="">All</option>
        <option value="Male" selected="@(Model.SelectedGender == "Male")">Male</option>
        <option value="Female" selected="@(Model.SelectedGender == "Female")">Female</option>
    </select>

    <label>Payment Status:</label>
    <select name="hasPayment" onchange="this.form.submit()">
        <option value="">All</option>
        <option value="true" selected="@(Model.HasPayment == true)">Paid</option>
        <option value="false" selected="@(Model.HasPayment == false)">Not Paid</option>
    </select>
</form>

@if (Model.FilteredMembers.Any())
{
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Gender</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Date Joined</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var member in Model.FilteredMembers)
            {
                <tr>
                    <td>@member.Name</td>
                    <td>@member.Gender</td>
                    <td>@member.Email</td>
                    <td>@member.PhoneNo</td>
                    <td>@member.DateJoined.ToShortDateString()</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>No members found matching your filters.</p>
}
